<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Playwright로 간단한 E2E 테스트 구현하기 - GoniGoni!</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
		
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-JN7PQ7YC6Q"></script>
      <script>
        var doNotTrack = false;
        if ( true ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-JN7PQ7YC6Q');
        }
      </script>
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="GoniGoni!" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">GoniGoni!</div>
					<div class="logo__tagline">개발 블로그이지만 개발 말고 다른 이야기도 합니다.</div>
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Playwright로 간단한 E2E 테스트 구현하기</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 1 1 0 28 1 1 0 0 1 0-28m0 3a3 3 0 1 0 0 22 3 3 0 0 0 0-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class="meta__text" datetime="2026-01-31T09:22:59&#43;09:00">2026-01-31</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/python/" rel="category">Python</a>
	</span>
</div></div>
		</header>
		<div class="content post__content clearfix">
			<p>Headless 브라우저를 활용한 E2E 테스트를 구현해 볼 일이 있었습니다. 빠른 시간 내 만들어야 해서 익숙한 Python 언어를 선택했고, Python 기반으로 동작 가능한 툴을 찾아봤습니다. 이런 조건으로 아래와 같은 툴을 추천 받았어요.</p>
<ul>
<li><a href="https://www.selenium.dev/">Selenium</a></li>
<li><a href="https://playwright.dev/python/">Playwright</a></li>
<li><a href="https://github.com/pyppeteer/pyppeteer">Pyppeter</a></li>
</ul>
<p>Selenium은 예전에 사이드 프로젝트에서 사용해 본 적이 있었는데요. 최근에는 Playwright를 추천하는 경우를 많이 봐서 Playwright를 사용해 보기로 했습니다.</p>
<p>좀 더 찾아 보니 아래와 같은 특징이 있었습니다.</p>
<ul>
<li>여러 브라우저를 지원 (Chrome, Edge, Firefox, WebKit, …)</li>
<li>TypeScript, JavaScript, Python, .NET, Java 지원</li>
<li><code>codegen</code> 명령을 사용해서 코드를 생성하도록 할 수 있음</li>
</ul>
<p>이번 글에서는 Playwright를 사용해 보면서 경험했던 것들을 이야기 해 보려고 합니다.</p>
<h2 id="설치하기">설치하기</h2>
<p><a href="https://playwright.dev/python/docs/intro">공식 문서</a>에 따르면, <code>pytest-playwright</code>를 설치하는 것을 추천합니다. pytest의 테스트 케이스 작성 방법을 활용해서 스크립트를 작성하고, pytest만 실행하면 되기 때문에 간편하게 구축할 수 있습니다.</p>
<p>이번 글에서는 uv로 의존성을 관리한다고 가정하겠습니다. 혹시나 pip를 사용하시면 <code>uv add</code> 대신에 <code>pip install</code> 명령을 사용하시고, <code>uv run</code> 명령은 생략하시면 됩니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>uv init playwright-example
</span></span><span style="display:flex;"><span>cd playwright-example
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 라이브러리 설치</span>
</span></span><span style="display:flex;"><span>uv add pytest-playwright
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 브라우저 설치 (지원하는 브라우저는 `playwright help install` 명령 참조)</span>
</span></span><span style="display:flex;"><span>uv run playwright install
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 특정한 브라우저만 설치할 수 있습니다. (`--with-deps` 옵션을 추가하면 브라우저 실행에 필요한 의존성까지 설치함)</span>
</span></span><span style="display:flex;"><span>uv run playwright install --with-deps firefox
</span></span></code></pre></div><h2 id="테스트-작성하기">테스트 작성하기</h2>
<p><a href="https://playwright.dev/python/docs/intro#add-example-test">공식 문서에 있는 스크립트</a>를 사용하겠습니다. 파일 이름은 <code>test_</code>로 시작해야 합니다. <code>test_playwright.py</code>로 저장합니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> playwright.sync_api <span style="color:#f92672">import</span> Page, expect
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_has_title</span>(page: Page):
</span></span><span style="display:flex;"><span>    page<span style="color:#f92672">.</span>goto(<span style="color:#e6db74">&#34;https://playwright.dev/&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Expect a title &#34;to contain&#34; a substring.</span>
</span></span><span style="display:flex;"><span>    expect(page)<span style="color:#f92672">.</span>to_have_title(re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">&#34;Playwright&#34;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">test_get_started_link</span>(page: Page):
</span></span><span style="display:flex;"><span>    page<span style="color:#f92672">.</span>goto(<span style="color:#e6db74">&#34;https://playwright.dev/&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Click the get started link.</span>
</span></span><span style="display:flex;"><span>    page<span style="color:#f92672">.</span>get_by_role(<span style="color:#e6db74">&#34;link&#34;</span>, name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Get started&#34;</span>)<span style="color:#f92672">.</span>click()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># Expects page to have a heading with the name of Installation.</span>
</span></span><span style="display:flex;"><span>    expect(page<span style="color:#f92672">.</span>get_by_role(<span style="color:#e6db74">&#34;heading&#34;</span>, name<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Installation&#34;</span>))<span style="color:#f92672">.</span>to_be_visible()
</span></span></code></pre></div><p>그리고 <code>pytest</code> 명령을 실행합니다. (<code>pip</code>로 설치하셨다면 <code>uv run</code>은 빼고 실행합니다)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ uv run pytest
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 아래와 같이 실행되면 성공입니다.</span>
</span></span><span style="display:flex;"><span>test_playwright.py ..                                                          <span style="color:#f92672">[</span>100%<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">=================================</span> <span style="color:#ae81ff">2</span> passed in 3.14s <span style="color:#f92672">=================================</span>
</span></span></code></pre></div><p>혹시 문제가 있다면 다음과 같은 옵션을 추가해서 확인할 수도 있습니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 특정 브라우저를 지정해서 실행 (Firefox를 실행했다고 가정)</span>
</span></span><span style="display:flex;"><span>uv run pytest --browser firefox
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 디버깅을 위해 브라우저 화면을 띄워서 실행하기</span>
</span></span><span style="display:flex;"><span>uv run pytest --headed 
</span></span></code></pre></div><h3 id="복잡한-테스트-케이스-codegen-활용">복잡한 테스트 케이스: codegen 활용</h3>
<p>복잡한 테스트 케이스가 필요하다면 <code>codegen</code> 기능을 활용할 수 있습니다. 브라우저를 띄워서 테스트 코드를 작성하는 기능입니다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 특정 브라우저를 지정하려면 `--browser firefox`와 같은 옵션을 추가합니다.</span>
</span></span><span style="display:flex;"><span>uv run playwright codegen demo.playwright.dev/todomvc 
</span></span></code></pre></div><p>명령어를 실행하면 아래 스크린샷과 같이 브라우저와 코드가 뜨는데요. 왼쪽에 있는 브라우저에서 여러 작업을 하면 오른쪽 창의 코드에 자동으로 반영됩니다. 이 코드를 바탕으로 테스트 케이스를 추가할 수 있습니다.</p>
<figure><img src="/img/using-playwright-1.png">
</figure>

<h2 id="컨테이너로-만들어서-실행하려면">컨테이너로 만들어서 실행하려면?</h2>
<p>테스트 케이스가 많고, 주기적으로 테스트를 실행하려면 컨테이너로 만드는 방법도 있겠습니다. 다만 이 컨테이너를 클라우드 환경에서 실행할 때는 보안 관련 설정을 확인해야 합니다. 예를 들면 공격성 트래픽으로 오인하지 않도록 테스트 빈도를 조정하거나, 테스트 트래픽을 보내는 IP를 허용하는 것들이 있겠죠.</p>
<p>컨테이너 이미지 실행과 관련된 설명은 링크를 <a href="https://playwright.dev/python/docs/docker">참고</a>하시기 바랍니다. 브라우저 및 브라우저 실행에 필요한 의존성 패키지가 같이 있어서 이미지 크기가 큰 편입니다.</p>
<p>Dockerfile은 다음과 같이 구성합니다. Base 컨테이너 image는 <a href="https://mcr.microsoft.com/en-us/artifact/mar/playwright/python/about">링크</a>를 참고하세요.</p>
<blockquote>
<p><strong>주의사항</strong>
설치한 Playwright 버전과 Base 컨테이너 이미지의 버전이 맞아야 정상 동작합니다. (브라우저 경로를 못 찾아서 실패합니다)</p>
<ul>
<li>설치한 Playwright 버전은 <code>uv.lock</code>이나 <code>requirements.txt</code> 파일에서 확인합니다.</li>
<li>Base 컨테이너의 태그에서 Playwright 버전을 지정할 수 있습니다. (예: v1.58.0)</li>
<li>이 글을 작성하는 시점(2026-01-31) Playwright의 최신 버전은 1.58.0 입니다.</li>
</ul>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-Dockerfile" data-lang="Dockerfile"><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span> <span style="color:#e6db74">mcr.microsoft.com/playwright/python:v1.58.0-noble</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#66d9ef">WORKDIR</span> <span style="color:#e6db74">/app</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#66d9ef">COPY</span> pyproject.toml .<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#66d9ef">RUN</span> pip install .<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#66d9ef">COPY</span> . .<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#66d9ef">CMD</span> [<span style="color:#e6db74">&#34;pytest&#34;</span>]<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><p>컨테이너 이미지를 빌드하고 실행해 봅시다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># 컨테이너 이미지 빌드</span>
</span></span><span style="display:flex;"><span>docker build -t playwright-example .
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 컨테이너 이미지 실행</span>
</span></span><span style="display:flex;"><span>docker run playwright-example
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 출력 내용: 아래와 같이 성공합니다.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">=============================</span> test session starts <span style="color:#f92672">==============================</span>
</span></span><span style="display:flex;"><span>platform linux -- Python 3.12.3, pytest-9.0.2, pluggy-1.6.0
</span></span><span style="display:flex;"><span>rootdir: /app
</span></span><span style="display:flex;"><span>configfile: pyproject.toml
</span></span><span style="display:flex;"><span>plugins: playwright-0.7.2, base-url-2.1.0
</span></span><span style="display:flex;"><span>collected <span style="color:#ae81ff">2</span> items
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>test_playwright.py ..                                                    <span style="color:#f92672">[</span>100%<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">==============================</span> <span style="color:#ae81ff">2</span> passed in 1.26s <span style="color:#f92672">===============================</span>
</span></span></code></pre></div><h2 id="마무리">마무리</h2>
<p>Playwright를 써 보면서 개인적으로 경험한 것들을 몇 가지 말씀드리고 마치겠습니다.</p>
<p>이 작업을 하면서 AI에게 테스트 케이스를 만들어 달라고 한 적이 있는데요. 개인적인 경험으로는 AI에 맡기지 않고 직접 <code>codegen</code> 명령으로 브라우저를 보면서 테스트 코드를 생성했을 때 빠르게 작업할 수 있었어요. 근데 실제로 돌려보면 지연 때문에 실패할 때도 있었습니다. 이 때 <code>wait_for_url()</code> 함수(<a href="https://playwright.dev/python/docs/api/class-frame#frame-wait-for-url">참고자료</a>)를 사용해서 잠깐 대기하는 작업을 추가하면 좋습니다.</p>
<p>두번째로 저는 macOS에서 테스트를 작성했는데, 인증된 바이너리를 사용하는 것이 아니라 OS 레벨에서 실행하지 못하게 막는 것 같았습니다. 개인적인 의견으로는 꼭 Chromium이나 Edge를 사용해야 하는 게 아니면 macOS에서는 Firefox를 이용하시는 것을 추천드리고, Chromium 계열의 브라우저를 사용해야 한다면 다른 OS에서 테스트 해 보시기 바랍니다. (컨테이너로 실행 시, 따로 설정하지 않으면 Chromium을 사용하기 때문에 컨테이너로 실행하는 것도 고려해 보면 좋겠습니다)</p>
<p>읽어주셔서 감사합니다.</p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M4 0h8s2 0 4 2l15 15s2 2 0 4L21 31s-2 2-4 0L2 16s-2-2-2-4V3s0-3 4-3m3 10a3 3 0 0 0 0-6 3 3 0 0 0 0 6"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/playwright/" rel="tag">Playwright</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>



<section class="comments">
	<div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "gonigoni-blog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>

			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2026 Yungon Park.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>