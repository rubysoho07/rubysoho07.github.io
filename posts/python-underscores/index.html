<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Python underscore 관련 naming convention - GoniGoni!</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-131546844-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="GoniGoni!" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">GoniGoni!</div>
					<div class="logo__tagline">개발 블로그이지만 개발 말고 다른 이야기도 합니다.</div>
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python underscore 관련 naming convention</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2018-05-26T10:32:00&#43;09:00">2018-05-26</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/python/" rel="category">Python</a>
	</span>
</div></div>
		</header>
		<div class="content post__content clearfix">
			<blockquote>
<p>파이썬에는 <a href="https://www.python.org/dev/peps/pep-0008/">PEP-8</a>이라는 Python Code Style Guide가 있다. 모든 내용을 한 번에 정리하기 어려워서 그냥 코딩하다가 궁금한 것 위주로 정리해 보려고 한다.</p>
</blockquote>
<p>이번 글에서는 &lsquo;_&rsquo;(Underscore)가 붙는 변수나 메서드에 관련한 내용을 정리하려고 한다.</p>
<h3 id="trailing-underscore">Trailing underscore</h3>
<ul>
<li><code>_single_leading_underscore</code>: 이런 경우 <code>from M import *</code>에서는 <code>_</code>로 시작하는 object를 import 하지 않는다.</li>
<li><code>single_trailing_underscore_</code>: 파이썬 언어 내에서 사용되는 키워드와의 충돌을 피하기 위해 작성한다. BeautifulSoup에서 HTML의 class를 기준으로 무언가를 찾을 때 <code>class_</code>와 같이 속성을 지정해 줄 때가 있다.</li>
<li><code>__double_leading_underscore</code>: 클래스 속성의 이름을 정할 때 name mangling을 피한다. 아래에 그 예가 있으니 참고하면 될 것 같다.</li>
<li><code>__double_leading_and_trailing_underscore__</code>: 사용자가 컨트롤하는 네임스페이스에 있는 &ldquo;magic&rdquo; object나 속성이다. 예를 들어 <code>__init__</code>, <code>__import__</code>, <code>__file__</code>등이 있다. 이러한 이름을 새로 만들 일은 거의 없을 것 같다.</li>
</ul>
<h3 id="package-and-module-names">Package and Module Names</h3>
<p>파이썬 모듈에서 C나 C++로 작성한 확장 모듈을 이용할 때, C나 C++ 모듈은 앞에 <code>_</code>를 하나 붙여준다. PEP-8 문서에서는 <code>_socket</code>을 예로 들고 있다.</p>
<h3 id="global-variable-names">Global Variable Names</h3>
<p><code>from M import *</code>을 사용하여 모듈을 import 하는 경우, <code>__all__</code> 변수를 사용해서 특정한 global 변수를 외부에서 쓰지 못 하도록 막을 수 있다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># M.py</span>
</span></span><span style="display:flex;"><span>__all__ <span style="color:#f92672">=</span> [aaa, bbb]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>aaa <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">bbb</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;bbb&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">ccc</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;ccc&#39;</span>
</span></span></code></pre></div><p>아래와 같이 M 모듈을 import 하고 ccc를 실행하면 예외가 발생한다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> M <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(aaa)
</span></span><span style="display:flex;"><span>print(bbb)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 여기서 예외가 발생한다.</span>
</span></span><span style="display:flex;"><span>print(ccc)
</span></span></code></pre></div><h3 id="method-names-and-instance-variables">Method Names and Instance Variables</h3>
<ul>
<li>앞에 1개의 <code>_</code>를 붙이는 경우: non-public 메소드/인스턴스 변수임을 의미한다.</li>
<li>앞에 2개의 <code>_</code>를 붙이는 경우: 상속된 클래스와 이름이 충돌하는 것을 막기 위해 사용한다.</li>
</ul>
<blockquote>
<p>참고: Foo 클래스가 <code>__a</code>라는 속성이 있으면, <code>Foo.__a</code>로 접근할 수 없다. 사용자는 <code>Foo._Foo__a</code>로만 접근할 수 있다. 상/하위 클래스 간 이름이 충돌하지 않도록 구현하는 경우에만 사용해야 한다.</p>
</blockquote>
<h3 id="designing-for-inheritance-상속을-위한-디자인">Designing for Inheritance (상속을 위한 디자인)</h3>
<p>Java나 C++과 같은 언어에서는 <code>public</code>, <code>private</code>와 같이 속성이나 메소드의 접근 가능 범위를 지정해 주는 키워드가 존재한다. 하지만 파이썬에는 그런 키워드가 없다. 대신에 다음과 같은 코딩 스타일을 이용한다.</p>
<ul>
<li>Public attribute는 처음에 <code>_</code>을 붙이지 않는다.</li>
<li>Public attribute가 예약된 키워드와 충돌하면 뒤에 <code>_</code>를 붙인다.</li>
<li>클래스가 상속되고, 상속된 클래스에서 사용하지 않을 속성이 있다면 2개의 <code>_</code>로 시작하고 끝에는 <code>_</code>를 붙이지 않는다.</li>
</ul>
<h3 id="기타-다른-이야기">기타 다른 이야기</h3>
<p>Python에서 <code>_</code>를 쓰는 다른 용법이 있는데, 개인적으로 몰랐던 부분이 있어서 아래 링크한 글이 많은 도움이 되었다.</p>
<ul>
<li>Interpreter에서 마지막 값을 저장</li>
<li>특정한 값을 무시 (반복문이나 여러 값을 반환하는 함수에서)</li>
<li>Internationalization, Localization 함수로 사용</li>
<li>숫자를 천 단위로 분리해서 표현하고 싶을 때 (예: 1,000 -&gt; 1_000)</li>
</ul>
<p><a href="https://hackernoon.com/understanding-the-underscore-of-python-309d1a029edc">https://hackernoon.com/understanding-the-underscore-of-python-309d1a029edc</a></p>

		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/python/" rel="tag">Python</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/underscore/" rel="tag">underscore</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/pep-8/" rel="tag">pep-8</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>



<section class="comments">
	<div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "gonigoni-blog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2022 Yungon Park.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>